[gd_scene load_steps=10 format=3 uid="uid://36dkaner3txs"]

[ext_resource type="Script" path="res://scripts/base_level.gd" id="1_n2mvg"]
[ext_resource type="TileSet" uid="uid://8jd3eqwvtp76" path="res://tilesets/tileset.tres" id="2_noqvc"]
[ext_resource type="PackedScene" uid="uid://cu4qk30gh72x8" path="res://scenes/elements/moving_platform.tscn" id="3_b3mjf"]
[ext_resource type="PackedScene" uid="uid://hnygefrtotfx" path="res://scenes/elements/bone.tscn" id="3_rw3hl"]
[ext_resource type="PackedScene" uid="uid://drgbe6551a4os" path="res://scenes/elements/spikes.tscn" id="3_uppur"]
[ext_resource type="PackedScene" uid="uid://1m2siku6krim" path="res://scenes/elements/door.tscn" id="6_vbcf6"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_emyvp"]
size = Vector2(1792, 1024)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wx1p3"]
size = Vector2(384, 512)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_h148x"]
size = Vector2(64, 64)

[node name="Level" type="Node2D"]
position = Vector2(896, 512)
script = ExtResource("1_n2mvg")

[node name="LevelArea" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="LevelArea"]
shape = SubResource("RectangleShape2D_emyvp")
debug_color = Color(0, 0.647059, 0.760784, 0.419608)

[node name="BourreauArea" type="Area2D" parent="."]
position = Vector2(704, 256)

[node name="CollisionShape2D" type="CollisionShape2D" parent="BourreauArea"]
shape = SubResource("RectangleShape2D_wx1p3")
debug_color = Color(0.941176, 0, 0, 0.419608)

[node name="DynamicEnvironment" type="Node" parent="."]

[node name="StaticEnvironment" type="TileMap" parent="."]
tile_set = ExtResource("2_noqvc")
format = 2
layer_0/z_index = 1
layer_0/tile_data = PackedInt32Array(-65529, 3, 0, -131065, 3, 0, -196601, 65539, 0, -262137, 65539, 0, 262133, 65541, 1, 196597, 3, 0, 131061, 131075, 0, 65525, 3, 0, -11, 131075, 0, -65547, 65539, 0, -131083, 131075, 0, -196619, 65539, 0, 327672, 0, 4, 327671, 0, 4, 327670, 0, 3, 327669, 0, 3, 327676, 65536, 4, 327677, 0, 3, 262146, 0, 3, 262145, 0, 4, 262144, 0, 4, 327679, 0, 3, 327678, 0, 4, 262151, 65536, 4, 262150, 0, 3, 262149, 0, 3, 458754, 0, 3, 393218, 0, 4, 327682, 0, 4, 458757, 0, 3, 458756, 0, 4, 458755, 65536, 4, 393221, 0, 4, 327685, 0, 4, 131070, 65539, 0, 65534, 3, 0, -2, 131075, 0, -65538, 65539, 0, -131074, 3, 0, -196610, 3, 0, 65537, 3, 0, 1, 65539, 0, -65535, 65539, 0, -131071, 65539, 0, -196607, 3, 0, -262143, 3, 0, -327673, 3, 0, -327674, 3, 0, -327675, 3, 0, -327676, 3, 0, -327677, 3, 0, -327678, 3, 0, -327679, 131075, 0, -327680, 3, 0, -262145, 65539, 0, -262146, 65539, 0, -262147, 3, 0, -262148, 3, 0, -262149, 3, 0, -262150, 65539, 0, -262151, 3, 0, -262152, 3, 0, -262153, 3, 0, -262154, 3, 0, -262155, 3, 0, 327675, 65536, 4, 393211, 0, 3, 458747, 0, 3, 524283, 0, 3, 524282, 0, 4, 524281, 0, 4, 524280, 0, 4, 458744, 0, 3, 393208, 0, 3, 7, 3, 0)

[node name="Hazards" type="Node" parent="."]

[node name="Spikes" parent="Hazards" instance=ExtResource("3_uppur")]
position = Vector2(480, 928)

[node name="Spikes2" parent="Hazards" instance=ExtResource("3_uppur")]
position = Vector2(544, 928)

[node name="Spikes3" parent="Hazards" instance=ExtResource("3_uppur")]
position = Vector2(1120, 928)

[node name="Spikes4" parent="Hazards" instance=ExtResource("3_uppur")]
position = Vector2(1184, 928)

[node name="Bones" type="Node" parent="."]

[node name="Bone" parent="Bones" instance=ExtResource("3_rw3hl")]
position = Vector2(896, 720)

[node name="Enemies" type="Node" parent="."]

[node name="SpawnPoint" type="Marker2D" parent="."]
unique_name_in_owner = true
position = Vector2(-576, 256)

[node name="FinishArea" type="Area2D" parent="."]
position = Vector2(544, 224)

[node name="CollisionShape2D" type="CollisionShape2D" parent="FinishArea"]
shape = SubResource("RectangleShape2D_h148x")
debug_color = Color(1, 1, 0.188235, 0.419608)

[node name="Interactables" type="Node" parent="."]

[node name="Node" type="Node" parent="Interactables"]

[node name="MovingPlatform5" parent="Interactables/Node" instance=ExtResource("3_b3mjf")]
position = Vector2(800, 672)
on_position = Vector2(0, -128)

[node name="MovingPlatform6" parent="Interactables/Node" instance=ExtResource("3_b3mjf")]
position = Vector2(800, 736)
on_position = Vector2(0, -128)

[node name="Node2" type="Node" parent="Interactables"]

[node name="MovingPlatform3" parent="Interactables/Node2" instance=ExtResource("3_b3mjf")]
position = Vector2(1120, 800)
rotation = 1.5708
orientation = 1
on_position = Vector2(0, -128)

[node name="MovingPlatform4" parent="Interactables/Node2" instance=ExtResource("3_b3mjf")]
position = Vector2(1184, 800)
rotation = 1.5708
orientation = 1
on_position = Vector2(0, -128)

[node name="Node3" type="Node" parent="Interactables"]

[node name="MovingPlatform" parent="Interactables/Node3" instance=ExtResource("3_b3mjf")]
position = Vector2(608, 800)
rotation = -1.5708
orientation = 3
on_position = Vector2(0, -128)

[node name="MovingPlatform2" parent="Interactables/Node3" instance=ExtResource("3_b3mjf")]
position = Vector2(672, 800)
rotation = -1.5708
orientation = 3
on_position = Vector2(0, -128)

[node name="Node4" type="Node" parent="Interactables"]

[node name="MovingPlatform5" parent="Interactables/Node4" node_paths=PackedStringArray("sprite") instance=ExtResource("3_b3mjf")]
position = Vector2(992, 544)
rotation = 3.14159
orientation = 2
sprite = NodePath("../../Node/MovingPlatform5/MovingPlatform/Sprite2D")
on_position = Vector2(0, -128)

[node name="MovingPlatform6" parent="Interactables/Node4" node_paths=PackedStringArray("sprite") instance=ExtResource("3_b3mjf")]
position = Vector2(992, 608)
rotation = 3.14159
orientation = 2
sprite = NodePath("../../Node/MovingPlatform6/MovingPlatform/Sprite2D")
on_position = Vector2(0, -128)

[node name="Door" parent="." instance=ExtResource("6_vbcf6")]
position = Vector2(480, 192)
is_player_toggleable = false

[connection signal="all_bones_collected" from="." to="Door" method="toggle"]
[connection signal="body_exited" from="LevelArea" to="." method="_on_level_area_body_exited"]
[connection signal="body_entered" from="FinishArea" to="." method="_on_finish_area_body_entered"]
