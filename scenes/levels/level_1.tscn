[gd_scene load_steps=15 format=3 uid="uid://dvwy8al6vu40d"]

[ext_resource type="Script" path="res://scripts/base_level.gd" id="1_p1cje"]
[ext_resource type="TileSet" uid="uid://8jd3eqwvtp76" path="res://tilesets/tileset.tres" id="2_qaaas"]
[ext_resource type="PackedScene" uid="uid://hnygefrtotfx" path="res://scenes/elements/bone.tscn" id="3_4mf6x"]
[ext_resource type="PackedScene" uid="uid://bth5xo6bxskba" path="res://scenes/elements/enemy_spider.tscn" id="3_bylox"]
[ext_resource type="PackedScene" uid="uid://xynpr4h0gdnx" path="res://scenes/enemies/enemy_bat.tscn" id="4_jtrpp"]
[ext_resource type="PackedScene" uid="uid://drgbe6551a4os" path="res://scenes/elements/spikes.tscn" id="5_3yoxd"]
[ext_resource type="PackedScene" uid="uid://ck2m2kpsthl3l" path="res://scenes/elements/stasis_field.tscn" id="6_h0qxl"]
[ext_resource type="PackedScene" uid="uid://dokw05n2dslui" path="res://scenes/elements/toggleable_spikes.tscn" id="7_shr2y"]
[ext_resource type="PackedScene" uid="uid://cu4qk30gh72x8" path="res://scenes/elements/moving_platform.tscn" id="8_1hkxh"]
[ext_resource type="PackedScene" uid="uid://1m2siku6krim" path="res://scenes/elements/door.tscn" id="10_v55gd"]
[ext_resource type="PackedScene" uid="uid://b7y8b7rwio6py" path="res://scenes/elements/trap.tscn" id="11_vto20"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_emyvp"]
size = Vector2(1792, 1024)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wx1p3"]
size = Vector2(384, 512)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_h148x"]
size = Vector2(64, 64)

[node name="Level" type="Node2D"]
position = Vector2(896, 512)
script = ExtResource("1_p1cje")

[node name="LevelArea" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="LevelArea"]
shape = SubResource("RectangleShape2D_emyvp")
debug_color = Color(0, 0.647059, 0.760784, 0.419608)

[node name="BourreauArea" type="Area2D" parent="."]
position = Vector2(704, 256)

[node name="CollisionShape2D" type="CollisionShape2D" parent="BourreauArea"]
shape = SubResource("RectangleShape2D_wx1p3")
debug_color = Color(0.941176, 0, 0, 0.419608)

[node name="DynamicEnvironment" type="Node" parent="."]

[node name="StaticEnvironment" type="TileMap" parent="."]
tile_set = ExtResource("2_qaaas")
format = 2
layer_0/z_index = 1
layer_0/tile_data = PackedInt32Array(-393229, 3, 0, -393228, 3, 0, -393227, 3, 0, -393226, 3, 0, -393225, 3, 0, -393224, 3, 0, -393223, 3, 0, -393222, 3, 0, -393221, 3, 0, -393220, 3, 0, -393219, 3, 0, -393218, 3, 0, -393217, 3, 0, -458752, 3, 0, -458751, 3, 0, -458750, 3, 0, -458749, 3, 0, -458748, 3, 0, -458747, 3, 0, -458746, 3, 0, -458745, 3, 0, -458744, 3, 0, -458743, 3, 0, -458742, 3, 0, -458741, 3, 0, -458740, 3, 0, -393204, 3, 0, -327668, 3, 0, -262132, 3, 0, -65524, 0, 3, -65525, 0, 3, -65526, 0, 3, -65527, 0, 3, -65528, 0, 3, -65529, 0, 3, 7, 65536, 4, 65543, 65536, 4, 131079, 0, 3, 196615, 0, 3, 262151, 0, 3, 327687, 65536, 4, 393223, 65536, 4, 393220, 0, 3, 327684, 0, 4, 262148, 0, 3, 196612, 0, 4, 131076, 0, 4, 65540, 0, 4, 4, 65536, 4, -65532, 0, 3, 393221, 0, 3, 393222, 0, 3, -65533, 0, 3, -65534, 0, 3, 196608, 0, 3, 262143, 65536, 4, 262142, 65536, 4, 262141, 65536, 4, 196605, 0, 4, 131069, 0, 3, 65533, 65536, 4, -3, 0, 3, -4, 0, 3, -5, 0, 3, -6, 0, 3, -65541, 3, 0, -7, 0, 3, -8, 0, 3, -9, 0, 4, -10, 65536, 4, -11, 0, 3, -12, 65536, 4, -13, 0, 4, -65549, 0, 4, -131085, 3, 0, -196621, 3, 0, -262157, 3, 0, -327693, 3, 0, -65548, 0, 3, -65547, 0, 3, -65546, 0, 3, -65545, 3, 0, -327689, 3, 0, -262153, 3, 0, -196617, 3, 0, -131081, 3, 0, -262152, 3, 0, -327688, 3, 0, -327687, 3, 0, -327692, 3, 0, -327691, 3, 0, -327690, 3, 0, -327684, 3, 0, -327683, 3, 0, -393213, 3, 0, 196609, 0, 3, 2, 0, 4, 65538, 0, 3, 131074, 0, 3, 196610, 0, 3, -2, 0, 3, -1, 0, 3, 65534, 65536, 4, 131070, 0, 4, 196606, 0, 3, 196607, 65536, 4, 131071, 65536, 4, 65535, 65536, 4, 65532, 65536, 4, 65531, 0, 4, 131067, 0, 3, 131068, 0, 3, 196604, 65536, 4, 196603, 65536, 4, 65530, 0, 4, 65529, 65536, 4, 65528, 65536, 4, 65524, 0, 4, 65525, 0, 3, 65526, 65536, 4, 65527, 0, 4, 131065, 0, 3, 131063, 0, 4, 131064, 0, 3, 131066, 65536, 4, 65539, 0, 3, 3, 0, 4, 131075, 0, 3, 196611, 0, 3, 262147, 65536, 4, 262145, 65536, 4, 262144, 65536, 4, 262146, 65536, 4, 327683, 65536, 4, -393206, 3, 0, -393205, 3, 0, -327669, 3, 0, -393207, 3, 0, -393212, 3, 0, -393211, 3, 0)

[node name="Bones" type="Node" parent="."]

[node name="Bone" parent="Bones" instance=ExtResource("3_4mf6x")]
position = Vector2(608, 344)

[node name="Bone2" parent="Bones" instance=ExtResource("3_4mf6x")]
position = Vector2(1056, 288)

[node name="Bone3" parent="Bones" instance=ExtResource("3_4mf6x")]
position = Vector2(1440, 416)

[node name="Enemies" type="Node" parent="."]

[node name="EnemyBat" parent="Enemies" instance=ExtResource("4_jtrpp")]
position = Vector2(208, 344)

[node name="EnemySpider" parent="Enemies" instance=ExtResource("3_bylox")]
position = Vector2(928, 160)
ascent_delay = 1.0

[node name="Spikes" parent="Enemies" instance=ExtResource("5_3yoxd")]
position = Vector2(928, 672)

[node name="Spikes2" parent="Enemies" instance=ExtResource("5_3yoxd")]
position = Vector2(992, 672)

[node name="Spikes3" parent="Enemies" instance=ExtResource("5_3yoxd")]
position = Vector2(1248, 864)

[node name="Spikes4" parent="Enemies" instance=ExtResource("5_3yoxd")]
position = Vector2(1312, 864)

[node name="Spikes5" parent="Enemies" instance=ExtResource("5_3yoxd")]
position = Vector2(608, 160)
rotation = 3.14159

[node name="Spikes6" parent="Enemies" instance=ExtResource("5_3yoxd")]
position = Vector2(1184, 224)
rotation = 3.14159

[node name="Spikes7" parent="Enemies" instance=ExtResource("5_3yoxd")]
position = Vector2(416, 288)
rotation = 1.57079

[node name="StasisField" parent="." instance=ExtResource("6_h0qxl")]
position = Vector2(224, -288)
rotation = -3.14159

[node name="ToggleableSpikes" parent="." instance=ExtResource("7_shr2y")]
position = Vector2(288, -96)

[node name="SpawnPoint" type="Marker2D" parent="."]
unique_name_in_owner = true
position = Vector2(-416, -64)

[node name="FinishArea" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="FinishArea"]
position = Vector2(832, -96)
shape = SubResource("RectangleShape2D_h148x")
debug_color = Color(1, 1, 0.188235, 0.419608)

[node name="MovingPlatform" parent="." instance=ExtResource("8_1hkxh")]
position = Vector2(-352, -32)

[node name="MovingPlatform2" parent="." node_paths=PackedStringArray("sprite") instance=ExtResource("8_1hkxh")]
position = Vector2(-416, -32)
sprite = NodePath("../MovingPlatform/MovingPlatform/Sprite2D")

[node name="MovingPlatform3" parent="." node_paths=PackedStringArray("sprite") instance=ExtResource("8_1hkxh")]
position = Vector2(-480, -32)
sprite = NodePath("../MovingPlatform/MovingPlatform/Sprite2D")

[node name="MovingPlatform4" parent="." node_paths=PackedStringArray("sprite") instance=ExtResource("8_1hkxh")]
position = Vector2(160, -96)
rotation = 3.14159
orientation = 2
sprite = NodePath("../MovingPlatform/MovingPlatform/Sprite2D")
on_position = Vector2(0, -128)

[node name="MovingPlatform5" parent="." node_paths=PackedStringArray("sprite") instance=ExtResource("8_1hkxh")]
position = Vector2(160, -160)
rotation = 3.14159
orientation = 2
sprite = NodePath("../MovingPlatform/MovingPlatform/Sprite2D")
on_position = Vector2(0, -128)

[node name="ExitDoor" parent="." instance=ExtResource("10_v55gd")]
position = Vector2(800, -128)
is_player_toggleable = false

[node name="Trap" parent="." instance=ExtResource("11_vto20")]
position = Vector2(-65, -32)

[node name="Trap2" parent="." instance=ExtResource("11_vto20")]
position = Vector2(512, -32)
on_position = Vector2(-128, 0)
is_on = true

[connection signal="all_bones_collected" from="." to="ExitDoor" method="toggle"]
[connection signal="body_exited" from="LevelArea" to="." method="_on_level_area_body_exited"]
[connection signal="body_entered" from="FinishArea" to="." method="_on_finish_area_body_entered"]
